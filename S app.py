{"cells":[{"cell_type":"markdown","metadata":{"id":"KAGDw044A4kJ"},"source":["# Streamlit Installing"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":12859,"status":"ok","timestamp":1754033741170,"user":{"displayName":"Selvabala Selvaraj","userId":"00035481231794901805"},"user_tz":-330},"id":"ARjR6r8D0MJJ","outputId":"e83e71be-17ec-4a6b-8bc9-2e8f01cb5931"},"outputs":[{"name":"stdout","output_type":"stream","text":["Collecting streamlit\n","  Downloading streamlit-1.47.1-py3-none-any.whl.metadata (9.0 kB)\n","Collecting pyngrok\n","  Downloading pyngrok-7.2.12-py3-none-any.whl.metadata (9.4 kB)\n","Requirement already satisfied: altair<6,>=4.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (5.5.0)\n","Requirement already satisfied: blinker<2,>=1.5.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (1.9.0)\n","Requirement already satisfied: cachetools<7,>=4.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (5.5.2)\n","Requirement already satisfied: click<9,>=7.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (8.2.1)\n","Requirement already satisfied: numpy<3,>=1.23 in /usr/local/lib/python3.11/dist-packages (from streamlit) (2.0.2)\n","Requirement already satisfied: packaging<26,>=20 in /usr/local/lib/python3.11/dist-packages (from streamlit) (25.0)\n","Requirement already satisfied: pandas<3,>=1.4.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (2.2.2)\n","Requirement already satisfied: pillow<12,>=7.1.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (11.3.0)\n","Requirement already satisfied: protobuf<7,>=3.20 in /usr/local/lib/python3.11/dist-packages (from streamlit) (5.29.5)\n","Requirement already satisfied: pyarrow>=7.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (18.1.0)\n","Requirement already satisfied: requests<3,>=2.27 in /usr/local/lib/python3.11/dist-packages (from streamlit) (2.32.3)\n","Requirement already satisfied: tenacity<10,>=8.1.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (8.5.0)\n","Requirement already satisfied: toml<2,>=0.10.1 in /usr/local/lib/python3.11/dist-packages (from streamlit) (0.10.2)\n","Requirement already satisfied: typing-extensions<5,>=4.4.0 in /usr/local/lib/python3.11/dist-packages (from streamlit) (4.14.1)\n","Collecting watchdog<7,>=2.1.5 (from streamlit)\n","  Downloading watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl.metadata (44 kB)\n","\u001b[2K     \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m44.3/44.3 kB\u001b[0m \u001b[31m1.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hRequirement already satisfied: gitpython!=3.1.19,<4,>=3.0.7 in /usr/local/lib/python3.11/dist-packages (from streamlit) (3.1.45)\n","Collecting pydeck<1,>=0.8.0b4 (from streamlit)\n","  Downloading pydeck-0.9.1-py2.py3-none-any.whl.metadata (4.1 kB)\n","Requirement already satisfied: tornado!=6.5.0,<7,>=6.0.3 in /usr/local/lib/python3.11/dist-packages (from streamlit) (6.4.2)\n","Requirement already satisfied: PyYAML>=5.1 in /usr/local/lib/python3.11/dist-packages (from pyngrok) (6.0.2)\n","Requirement already satisfied: jinja2 in /usr/local/lib/python3.11/dist-packages (from altair<6,>=4.0->streamlit) (3.1.6)\n","Requirement already satisfied: jsonschema>=3.0 in /usr/local/lib/python3.11/dist-packages (from altair<6,>=4.0->streamlit) (4.25.0)\n","Requirement already satisfied: narwhals>=1.14.2 in /usr/local/lib/python3.11/dist-packages (from altair<6,>=4.0->streamlit) (2.0.1)\n","Requirement already satisfied: gitdb<5,>=4.0.1 in /usr/local/lib/python3.11/dist-packages (from gitpython!=3.1.19,<4,>=3.0.7->streamlit) (4.0.12)\n","Requirement already satisfied: python-dateutil>=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas<3,>=1.4.0->streamlit) (2.9.0.post0)\n","Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas<3,>=1.4.0->streamlit) (2025.2)\n","Requirement already satisfied: tzdata>=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas<3,>=1.4.0->streamlit) (2025.2)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.11/dist-packages (from requests<3,>=2.27->streamlit) (3.4.2)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.11/dist-packages (from requests<3,>=2.27->streamlit) (3.10)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.11/dist-packages (from requests<3,>=2.27->streamlit) (2.5.0)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.11/dist-packages (from requests<3,>=2.27->streamlit) (2025.7.14)\n","Requirement already satisfied: smmap<6,>=3.0.1 in /usr/local/lib/python3.11/dist-packages (from gitdb<5,>=4.0.1->gitpython!=3.1.19,<4,>=3.0.7->streamlit) (5.0.2)\n","Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.11/dist-packages (from jinja2->altair<6,>=4.0->streamlit) (3.0.2)\n","Requirement already satisfied: attrs>=22.2.0 in /usr/local/lib/python3.11/dist-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (25.3.0)\n","Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /usr/local/lib/python3.11/dist-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (2025.4.1)\n","Requirement already satisfied: referencing>=0.28.4 in /usr/local/lib/python3.11/dist-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (0.36.2)\n","Requirement already satisfied: rpds-py>=0.7.1 in /usr/local/lib/python3.11/dist-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (0.26.0)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil>=2.8.2->pandas<3,>=1.4.0->streamlit) (1.17.0)\n","Downloading streamlit-1.47.1-py3-none-any.whl (9.9 MB)\n","\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m9.9/9.9 MB\u001b[0m \u001b[31m32.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading pyngrok-7.2.12-py3-none-any.whl (26 kB)\n","Downloading pydeck-0.9.1-py2.py3-none-any.whl (6.9 MB)\n","\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m6.9/6.9 MB\u001b[0m \u001b[31m58.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl (79 kB)\n","\u001b[2K   \u001b[90m‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\u001b[0m \u001b[32m79.1/79.1 kB\u001b[0m \u001b[31m4.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hInstalling collected packages: watchdog, pyngrok, pydeck, streamlit\n","Successfully installed pydeck-0.9.1 pyngrok-7.2.12 streamlit-1.47.1 watchdog-6.0.0\n"]}],"source":["!pip install streamlit pyngrok"]},{"cell_type":"markdown","metadata":{"id":"9_MzdoeFA-4X"},"source":["# Streamlit App Code"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":17,"status":"ok","timestamp":1754033741191,"user":{"displayName":"Selvabala Selvaraj","userId":"00035481231794901805"},"user_tz":-330},"id":"eVcg4hrD0zuU","outputId":"f452ed0b-4f31-4303-e665-6130ba7dccb4"},"outputs":[{"name":"stdout","output_type":"stream","text":["Writing app.py\n"]}],"source":["\n","%%writefile app.py\n","import streamlit as st\n","import pickle\n","import re\n","import nltk\n","from nltk.corpus import stopwords\n","\n","# Download stopwords (if not already)\n","nltk.download('stopwords')\n","stop_words = set(stopwords.words('english'))\n","\n","# Load the model and vectorizer\n","with open(\"fake_news_model.pkl\", \"rb\") as f:\n","    model = pickle.load(f)\n","\n","with open(\"tfidf_vectorizer.pkl\", \"rb\") as f:\n","    vectorizer = pickle.load(f)\n","\n","# Clean input text\n","def clean_text(text):\n","    text = str(text).lower()\n","    text = re.sub(r'\\W+', ' ', text)\n","    text = re.sub(r'\\d+', '', text)\n","    text = ' '.join([word for word in text.split() if word not in stop_words])\n","    return text\n","\n","# Streamlit UI\n","st.set_page_config(page_title=\"Fake News Detector\", layout=\"centered\")\n","st.title(\"üì∞ Fake News Detection\")\n","st.markdown(\"Enter any news article to check if it's **Real** or **Fake**.\")\n","\n","news_text = st.text_area(\"‚úçÔ∏è Enter news content here:\", height=250)\n","\n","if st.button(\"Detect\"):\n","    if news_text.strip() == \"\":\n","        st.warning(\"Please enter some content.\")\n","    else:\n","        cleaned = clean_text(news_text)\n","        vectorized = vectorizer.transform([cleaned])\n","        prediction = model.predict(vectorized)[0]\n","\n","        if prediction == 1:\n","            st.success(\"‚úÖ This news is **Real**.\")\n","        else:\n","            st.error(\"üö® This news is **Fake**.\")\n","\n"]},{"cell_type":"markdown","metadata":{"id":"4vu9fpL6BXjW"},"source":["# Pyngork Setup"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":1818,"status":"ok","timestamp":1754033743017,"user":{"displayName":"Selvabala Selvaraj","userId":"00035481231794901805"},"user_tz":-330},"id":"G3jIcPRS2fHY","outputId":"3367f69b-2775-4fd1-8e1d-65e807129163"},"outputs":[{"name":"stdout","output_type":"stream","text":[]}],"source":["from pyngrok import ngrok\n","ngrok.set_auth_token(\"30XwOJSG9gr1hPto5zRsdu6JWiT_7ryFQGs6HPCsgp6irxbWn\")  # Replace this\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3477,"status":"ok","timestamp":1754033746496,"user":{"displayName":"Selvabala Selvaraj","userId":"00035481231794901805"},"user_tz":-330},"id":"HP723bKS6yOm","outputId":"e5ef0656-c9f5-4f9c-c4c3-b44ef6eabe82"},"outputs":[{"name":"stdout","output_type":"stream","text":["Testing ngrok connectivity...\n","\n","Internet Connectivity\n","  Name Resolution                           [ OK ]\n","  TCP                                       [ OK ]\n","  TLS                                       [ OK ]\n","Localhost Connectivity\n","  Name Resolution                           [ OK ]\n","Ngrok Connectivity - Region: Auto (lowest latency)\n","  Name Resolution                           [ OK ]\n","  TCP                                       [ OK ]\n","  TLS                                       [ OK ]\n","  Tunnel Protocol                           [ OK ]\n","Successfully established ngrok connection! (region: 'us', latency: 106.972398ms)\n","\n"]}],"source":["!ngrok diagnose"]},{"cell_type":"markdown","metadata":{"id":"AFNFL1_tBi6m"},"source":["# Adding Authkey"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/"},"id":"txI0dYs33Yoc","outputId":"418f58d6-f13c-42ef-ace1-0cbf47e8fb7f"},"outputs":[{"name":"stdout","output_type":"stream","text":["üöÄ App running at: NgrokTunnel: \"https://8ba989f402df.ngrok-free.app\" -> \"http://localhost:8501\"\n","\n","Collecting usage statistics. To deactivate, set browser.gatherUsageStats to false.\n","\u001b[0m\n","\u001b[0m\n","\u001b[34m\u001b[1m  You can now view your Streamlit app in your browser.\u001b[0m\n","\u001b[0m\n","\u001b[34m  Local URL: \u001b[0m\u001b[1mhttp://localhost:8501\u001b[0m\n","\u001b[34m  Network URL: \u001b[0m\u001b[1mhttp://172.28.0.12:8501\u001b[0m\n","\u001b[34m  External URL: \u001b[0m\u001b[1mhttp://34.13.195.57:8501\u001b[0m\n","\u001b[0m\n","[nltk_data] Downloading package stopwords to /root/nltk_data...\n","[nltk_data]   Unzipping corpora/stopwords.zip.\n","[nltk_data] Downloading package stopwords to /root/nltk_data...\n","[nltk_data]   Package stopwords is already up-to-date!\n","[nltk_data] Downloading package stopwords to /root/nltk_data...\n","[nltk_data]   Package stopwords is already up-to-date!\n","\u001b[34m  Stopping...\u001b[0m\n","\u001b[34m  Stopping...\u001b[0m\n","Exception ignored in: <module 'threading' from '/usr/lib/python3.11/threading.py'>\n","Traceback (most recent call last):\n","  File \"/usr/lib/python3.11/threading.py\", line 1560, in _shutdown\n","    atexit_call()\n","  File \"/usr/lib/python3.11/concurrent/futures/process.py\", line 95, in _python_exit\n","    items = list(_threads_wakeups.items())\n","            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","  File \"/usr/lib/python3.11/weakref.py\", line 461, in items\n","    def items(self):\n","\n","  File \"/usr/local/lib/python3.11/dist-packages/streamlit/web/bootstrap.py\", line 43, in signal_handler\n","    server.stop()\n","  File \"/usr/local/lib/python3.11/dist-packages/streamlit/web/server/server.py\", line 458, in stop\n","    self._runtime.stop()\n","  File \"/usr/local/lib/python3.11/dist-packages/streamlit/runtime/runtime.py\", line 324, in stop\n","    async_objs.eventloop.call_soon_threadsafe(stop_on_eventloop)\n","  File \"/usr/lib/python3.11/asyncio/base_events.py\", line 807, in call_soon_threadsafe\n","    self._check_closed()\n","  File \"/usr/lib/python3.11/asyncio/base_events.py\", line 520, in _check_closed\n","    raise RuntimeError('Event loop is closed')\n","RuntimeError: Event loop is closed\n","^C\n"]}],"source":["from pyngrok import ngrok\n","public_url = ngrok.connect(8501)\n","print(\"üöÄ App running at:\", public_url)\n","!streamlit run app.py"]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyOU9WrGmQB17rbV0GxFwwGm"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}